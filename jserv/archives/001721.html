<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Jserv's blog: EZFB/LaserBoy 以及美妙的 Linux 多媒體</title>

<link rel="stylesheet" href="http://blog.linux.org.tw/~jserv/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.linux.org.tw/~jserv/index.rdf" />

<link rel="start" href="http://blog.linux.org.tw/~jserv/" title="Home" />
<link rel="prev" href="http://blog.linux.org.tw/~jserv/archives/001720.html" title="freestanding" />

<link rel="next" href="http://blog.linux.org.tw/~jserv/archives/001722.html" title="EZFB/LaserBoy 以及美妙的 Linux 多媒體" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blog.linux.org.tw';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>





</head>

<body>

<div id="banner">
<h1><a href="http://blog.linux.org.tw/~jserv/" accesskey="1">Jserv's blog</a></h1>
<span class="description"></span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://blog.linux.org.tw/~jserv/archives/001720.html">« freestanding</a> |

<a href="http://blog.linux.org.tw/~jserv/">回到主頁面</a>
| <a href="http://blog.linux.org.tw/~jserv/archives/001722.html">EZFB/LaserBoy 以及美妙的 Linux 多媒體 »</a>

</div>

</div>


<div class="blog">

<h2 class="date">June 15, 2006</h2>

<div class="blogbody">

<h3 class="title">EZFB/LaserBoy 以及美妙的 Linux 多媒體</h3>

介紹 [<a href="http://www.akrobiz.com/ezfb/">EZFB Linux Framebuffer API</a>] 與 [<a href="http://www.akrobiz.com/laserboy/">LaserBoy</a>] 之前，說些故事。<br>
<br>
Linux 的世界總是充滿驚喜，讓我印象深刻的例子頗多，比方說，幾年前有人說：「既然我把 Linux 當作 networking server 應用，Video RAM 對我來說沒什麼意義，是不是可以把 Video RAM 拿來當作 swapping / buffer 來用呢？」，理論上可行，不過實務上似乎很少看到，但是沒多久，某位仁兄就在 LKML 上面張貼 patch，而且還能運作。隨著電子裝置的進步，Linux 應用的觸角也逐漸伸展到傳統自動控制領域中，因為案例很多，這裡就不贅述了。<br>
<br>
Linux kernel 2.2 之後，引入 Graphical Framebuffer 的機制，也實做了 fbcon (2.6 後有新的設計)，同一個時期，3D Acceleration 的機制初步在 Linux 上實現 (最早於 3dfx 於 user-space 的實驗性機制)，多媒體的應用可以說是爆炸性成長，現在連 SONY PlayStation 系列都採用 Linux 了。在 Linux 上面開發應用程式，或者對 kernel 作延伸修改，的確不是很容易的事情，捫心自問：多少夜晚都在浸淫於 hacking 的快感與苦楚中度過？不過，正因為這種痛苦，往往將深度帶給我們，很多時候，Linux 平台上總是會激發出許多不可思議...<br>
<br>
看到某公司的 Projector Phone 正確無誤地打出影像，近來的系統甚至可播放影片與多媒體資訊，心頭總是有種說不出來的感動，只能說，Linux 能做的事情太多了，然而，有時候不免會懷疑：多媒體的建設與規格都發展成熟，無論是行動裝置、數位廣播，還是數位家庭等，還會有什麼新花樣呢？我的想像力很有限，不過，如果您的手機除了通訊外，在需要作簡報展示或打發時間之際，稍微動一下就可以拿來當投影機，絢麗地呈現，難道不是很有趣的感受嗎？[<a href="http://www.akrobiz.com/laserboy/">LaserBoy</a>] 是另一個特別的計畫，這個計畫的簡介是：<ul>
Linux Laser Projector 
</ul>
使用 Linux 的雷射投影機？乍聽之下，不免心生詫異，但是既然技術上都可行，那麼，"Why not?"，以下引用網頁介紹：<ul class="code" style="margin: 6px;">
LaserBoy is a Linux console / frame buffer application that can open, manipulate and save DXF, ILDA and WAVE. ... LaserBoy also includes a working implementation of 24 bit color tables.<br>
<br>
LaserBoy can translate laser vector art into standard, 48KHz, 16 bit, multi channel Microsoft RIFF WAVE file format and play those files with independent sample shifts between the channels for proper time alignment between the scanners and the color modulation devices (per color).<br>
<br>
Waves made with LaserBoy can be played from any surround sound card in any OS. LaserBoy can open its own generated wave files and convert them back into vector art.<br>
<br>
LaserBoy provides a full set of points optimization routines including distance spanning, corner dwelling and the ability to minimize total points distance by rearranging the order and direction of lit segments within a frame.<br>
<br>
With a DC modified 8 channel sound card and some outboard electronics, LaserBoy is currently outputting full motion, 16bit X, Y position, 24 bit RGB color projections at 48 thousand points per second. Creating waves of any integer sample rate is possible. 48KHz is only a limitation of the sound card that I am currently using. 
</ul>
簡單來說，James Lehman 的 [<a href="http://www.akrobiz.com/laserboy/">LaserBoy</a>] 計畫就是建立一個機制，讓向量雷射圖樣得以透過 Microsoft RIFF WAVE 格式作為保存與交換，也可以作圖樣的呈現，在控制取樣率與相關的視訊參數前提下，令人感動的美妙畫面就呈現了，例如網頁提到以下的效果： (click to enlarge)<br>
<center><a href="http://www.akrobiz.com/laserboy/p_laserboy_97.html"><img src="http://www.akrobiz.com/laserboy/graphics/laser_t_97.jpg"></a></center><br>
Linux 的吉祥物 Tux 的畫面看起來有交錯的感覺，就是因為光學成像的控制，可參考 [<a href="http://www.akrobiz.com/laserboy/avi/tux.avi">實際運作的錄影</a>] (MPEG-2 格式)，[<a href="http://www.akrobiz.com/laserboy/">LaserBoy</a>] 網頁有更多美妙的展示，而，要建構這樣的圖樣，就需要一個 Graphical Toolkit，Linux Framebuffer 提供了最基礎的驅動與邏輯上的畫布，[<a href="http://www.akrobiz.com/ezfb/">EZFB Linux Framebuffer API</a>] 則是作者為了簡化開發，提出一套易用的 API，其 [<a href="http://www.akrobiz.com/ezfb/concept.html">概念介紹</a>] 提到為何需要重新設計這樣一個 Toolkit 的原因：<ul class="code" style="margin: 6px;">
EZFB provides control of multiple video cards within the same system.<br>
<br>
EZFB offers exceptional control of colors, including palette cycling, the ability to display all or portions of bitmap files anywhere on the screen, with automatic color depth conversion, the ability to capture all or portions of the screen to bitmap files, an 8x8 bitmaped font to print to the screen, routines to draw points, lines, outlined and filled rectangles and much more! 
</ul>
實在是很有意思，[<a href="http://www.akrobiz.com/ezfb/">EZFB Linux Framebuffer API</a>] 用以控制多張 video card，然後因為針對雷射投影作量身打造，提供許多基本與進階的圖樣處理機制。因為這個計畫實在太吸引我了，剛剛用了不少時間作測試與評估，發現建立的 matrix 與 transform 運算量頗大，所以反應速度沒有想像中的好，但是效果的確驚人。<br>
<br>
Linux 未來的多媒體應用會如何呢？自己動手來決定吧 :-)<br>

<a name="more"></a>


<span class="posted">由 jserv 發表於 June 15, 2006 10:56 PM

<br /></span>

</div>


<div class="comments-head"><a name="comments"></a>迴響</div>




<div class="comments-head">發表迴響</div>

<div class="comments-body">
<form method="post" action="http://mt.debian.org.tw/mt-yijian.cgi" name="comments_form" onsubmit="if (this.bakecookie[0].checked) rememberMe(this)">
<input type="hidden" name="static" value="1" />
<input type="hidden" name="entry_id" value="1721" />

<div style="width:180px; padding-right:15px; margin-right:15px; float:left; text-align:left; border-right:1px dotted #bbb;">
	<label for="author">姓名:</label><br />
	<input tabindex="1" id="author" name="author" /><br /><br />

	<label for="email">Email 地址:</label><br />
	<input tabindex="2" id="email" name="email" /><br /><br />

	<label for="url">網址:</label><br />
	<input tabindex="3" id="url" name="url" /><br /><br />
</div>

記住我的資訊?<br />
<input type="radio" id="bakecookie" name="bakecookie" /><label for="bakecookie">是</label><input type="radio" id="forget" name="bakecookie" onclick="forgetMe(this.form)" value="Forget Info" style="margin-left: 15px;" /><label for="forget">否</label><br style="clear: both;" />

<label for="text">迴響:</label><br />
<textarea tabindex="4" id="text" name="text" rows="10" cols="50"></textarea><br /><br />

<input type="submit" name="preview" value="&nbsp;預覽&nbsp;" />
<input style="font-weight: bold;" type="submit" name="post" value="&nbsp;發表&nbsp;" /><br /><br />

</form>

<script type="text/javascript" language="javascript">
<!--
document.comments_form.email.value = getCookie("mtcmtmail");
document.comments_form.author.value = getCookie("mtcmtauth");
document.comments_form.url.value = getCookie("mtcmthome");
if (getCookie("mtcmtauth")) {
    document.comments_form.bakecookie[0].checked = true;
} else {
    document.comments_form.bakecookie[1].checked = true;
}
//-->
</script>
</div>


<!-- Site Meter -->
<script type="text/javascript" src="http://s23.sitemeter.com/js/counter.js?site=s23jserv">
</script>
<noscript>
<a href="http://s23.sitemeter.com/stats.asp?site=s23jserv" target="_top">
<img src="http://s23.sitemeter.com/meter.asp?site=s23jserv" alt="Site Meter" border="0"/></a>
</noscript>
</div>
</div>
</body>
</html>
