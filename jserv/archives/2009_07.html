<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Jserv's blog: July 2009 彙整</title>

<link rel="stylesheet" href="http://blog.linux.org.tw/~jserv/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.linux.org.tw/~jserv/index.rdf" />
<link rel="start" href="http://blog.linux.org.tw/~jserv/" title="Home" />
<link rel="prev" href="http://blog.linux.org.tw/~jserv/archives/2009_06.html" title="June 2009" />

<link rel="next" href="http://blog.linux.org.tw/~jserv/archives/2009_08.html" title="August 2009" />


<script language="javascript" type="text/javascript">
function OpenComments (c) {
    window.open(c,
                    'comments',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}
</script>

</head>

<body>	

<div id="banner">
<h1><a href="http://blog.linux.org.tw/~jserv/" accesskey="1">Jserv's blog</a></h1>
<span class="description"></span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://blog.linux.org.tw/~jserv/archives/2009_06.html">« June 2009</a> |

<a href="http://blog.linux.org.tw/~jserv/">回到主頁面</a>
| <a href="http://blog.linux.org.tw/~jserv/archives/2009_08.html">August 2009 »</a>

</div>

</div>

<div class="blog">


<h2 class="date">July 20, 2009</h2>


<div class="blogbody">
<a name="002113"></a>
<h3 class="title">「探索嵌入式 ARM 平台與 SoC 」Part I 簡報上線</h3>

上週六應 Study-Area 台北的邀請，進行主題為 [<a href="http://blog.linux.org.tw/~jserv/archives/002111.html">探索嵌入式 ARM 平台與 SoC </a>] 的演講/教育訓練，雖然主題較為冷僻，但前來指教的朋友們，還是將訓練教室塞滿，在此，相當感謝捧場與指導。目前簡報已上線，請參考以下連結：<ul>
  <li>[<a href="http://jserv.sayya.org/embedded/platform/ARM-1-overview.pdf">ARM-1-overview.pdf</a>]</li>
</ul>
<div style="width:425px;text-align:left" id="__ss_1743656"><a style="font:14px Helvetica,Arial,Sans-serif;display:block;margin:12px 0 3px 0;text-decoration:underline;" href="http://www.slideshare.net/jserv/arm-and-soc-traning-part-i-overview" title="ARM and SoC Traning Part I -- Overview">ARM and SoC Traning Part I -- Overview</a><object style="margin:0px" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=arm-1-overview-090720075211-phpapp01&stripped_title=arm-and-soc-traning-part-i-overview" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=arm-1-overview-090720075211-phpapp01&stripped_title=arm-and-soc-traning-part-i-overview" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="font-size:11px;font-family:tahoma,arial;height:26px;padding-top:2px;">View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">documents</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/jserv">Jim Huang</a>.</div></div>
仿造過去 [<a href="http://jserv.sayya.org/helloworld/">深入淺出 Hello World</a>] 系列演講的模式，只要行有餘力，小弟將循序探討 ARM 架構與 SoC 的概念和實務，當然，這一切的演講/教育訓練，都維持免費且開放，只要您願意提出意見，我們可隨時調整方向與探討的細節。誠如前文提到的訓練宗旨：<ul class="code" style="margin: 6px;">
「探討如何從零到有設計完整的作業系統、如何進行必要的系統初始化、如何動手理解 ARM 的種種關鍵設計，且從軟體設計師的角度去切入」
</ul>
在這個 "Everything goes mobile" 的時代，我們更在意知識的累積與多元轉換，可惜台灣人的工作環境，不免會基於某些考量，發生專業技能的「藏私」狀況，或多或少限制了視野的廣度與專業的深度。希望就能如去年在 [<a href="http://blog.linux.org.tw/~jserv/archives/002051.html">自由軟體教育訓練與演講規劃</a>] 一文提到的項目，循序漸進分享與接受各方的指教，從而累積資訊技術知識。<br />
<br />
此次 Part I 課程回顧：<ul>
  <li>ARM 架構<ul>
    <li>Architecture version vs. Implementation</li>
    <li>ISA feature</li>
  </ul></li>
  <li>ARM SoC 平台<ul>
    <li>整合多種不同功能的複雜IC 組合，針對特定的市場或應用需求</li>
    <li>典型組成</li>
  </ul></li>
  <li>關鍵概念<ul>
    <li>工作模式、暫存器組、系統狀態</li>
    <li>指令集、例外處理</li>
  </ul></li>
</ul>
而關於系列演講的 Part II，預定提綱針對系統控制，涵蓋以下：<ul>
  <li>ARM 定址與組合語言</li>
  <li>PXA255 SoC 與 CuRT 的硬體啟動程序</li>
  <li>ARM Interrupt, ISR, Exception的處理，解析 PSR</li>
</ul>
期待您的指教與討論，您的付出與關注，將使這一切變得更好，謝謝！<br />



<div class="posted">
	由 jserv 發表於 <a href="http://blog.linux.org.tw/~jserv/archives/002113.html">04:02 PM</a>
		| <a href="http://mt.debian.org.tw/mt-yijian.cgi?entry_id=2113" onclick="OpenComments(this.href); return false">迴響 (8)</a>
	
	
</div>

</div>



<h2 class="date">July 06, 2009</h2>


<div class="blogbody">
<a name="002112"></a>
<h3 class="title">隱藏式取得動態函式庫的 C 函式實做</h3>

前文 [<a href="http://blog.linux.org.tw/~jserv/archives/001561.html">dlopen 的 _init 與 _fini</a>] 與 [<a href="http://blog.linux.org.tw/~jserv/archives/000782.html">LD_PRELOAD 的應用</a>] 提過 GNU/Linux 下，動態函式庫操作的技巧，可看到 dlopen(3), dlsym 搭配 _init/_fini 或自訂函式，達到攔截函式進入點的功能。那麼，是否能提供「隱藏式」的機制，讓原始程式碼不甚明顯，但執行時期也有同等功效呢？本文就要探討這樣的技巧。<br />
<br />
實驗的目標是動態載入 libm.so 裡頭的 exp() 函式，並計算 e 的值，也就是呼叫 exp(1.0)，這部份實做於 lookup()，有趣的是以下程式碼列表的 do_magic() 函式： (findsym.c)
<pre class="code" style="margin: 6px;">#include &lt;stdio.h&gt;
#include &lt;dlfcn.h&gt;

extern void payload();
typedef double (*proto)(double);
proto _exp = (proto) (void *) &amp;payload;

/* once no exp found, use this */
static double failback(double x) { return 0.0; }

static void lookup()
{
	void *handle = dlopen(&quot;libm.so&quot;, RTLD_LAZY);
	if (!handle) {
		fprintf(stderr, &quot;E: unable to load libm\n&quot; );
		_exp = (proto) (void *) &amp;failback;
		return;
	}
	_exp = (proto) dlsym(handle, &quot;exp&quot;);
	if (!_exp) {
		dlclose(handle);
		_exp = (proto) (void *) &amp;failback;
		fprintf(stderr, &quot;E: unable to find exp\n&quot;);
	}
}

static void do_magic() {
	__asm__ __volatile__ (
		&quot;	.section .bss\n&quot;
		&quot;	.align  4\n&quot;
	&quot;external_ebp:	.type   external_ebp, @object\n&quot;
		&quot;	.size   external_ebp, 4\n&quot;
		&quot;	.text\n&quot;
	&quot;payload:\n&quot;
		&quot;	mov     %ebp, external_ebp\n&quot;
		&quot;	mov     %esp, %ebp\n&quot;
		&quot;	call    lookup\n&quot;
		&quot;	mov     external_ebp, %ebp\n&quot;
		&quot;	jmp     *_exp\n&quot;
); }

int main()
{
	printf(&quot;e = %f\n&quot;, _exp(1.0));
	return 0;
}</pre>
透過調整 IA32 stack 的 %ebp，將變數 _exp 指向由 dlopen + dlsym 找出的 libm::exp() 位址，進一步跳躍到函式進入點，達到所設立的目標。參考的編譯與執行輸出：<pre class="code" style="margin: 6px;">
$ gcc -o findsym{,.c} -O0 -ldl && ./findsym
e = 2.718282
</pre>



<div class="posted">
	由 jserv 發表於 <a href="http://blog.linux.org.tw/~jserv/archives/002112.html">05:43 PM</a>
		| <a href="http://mt.debian.org.tw/mt-yijian.cgi?entry_id=2112" onclick="OpenComments(this.href); return false">迴響 (2)</a>
	
	
</div>

</div>



<h2 class="date">July 03, 2009</h2>


<div class="blogbody">
<a name="002111"></a>
<h3 class="title">演講：探索嵌入式 ARM 平台與 SoC </h3>

七月份，小弟將應 [<a href="http://phorum.study-area.org/">Study-Area</a>] 之邀，給予一場新的教育訓練，主題為「探索嵌入式 ARM 平台與 SoC 」，嘗試實現過去的一個小心願：以淺顯又直觀的方式，去探討 ARM architecture，以下是該議程相關資訊：<ul>
  <li>議程簡介：雖然 ARM 嵌入式平台早已充斥於我們的日常生活，舉凡手機、導航系統等電子產品，但探討其原理架構的課程，往往有如英文諺語 "an arm and a leg" 背後的意思一般，所費不貲。講者嘗試整理過去幾年開發的心得，以心得分享的方式，免費介紹 ARM 硬體特性與原理，並以一個具體而微的 RTOS 開發，作為探索架構與軟體驗證的對象。</li>
  <li>建議聽者背景： (任一)<ul>
    <li>已熟悉 C 語言程式設計，並參與過 ARM 平台軟體移植者</li>
    <li>對 ARM/RISC 架構開發有興趣者</li>
    <li>覺得只要有心，什麼都不是問題的熱血人士</li>
  </ul></li>
  <li>預定提綱：<ul>
    <li>ARM7/ARM9/ARM11 硬體架構快速瀏覽</li>
    <li>ARM SoC 平台</li>
    <li>關鍵概念： 工作模式、暫存器組、系統狀態、指令集、例外處理、啟動程序</li>
    <li>作中學：從軟體工程師的角度去思考硬體行為</li>
  </ul></li>
  <li>時間：2009 年 07 月 18 日 (星期六)<ul>
    <li>上午 09:00~12:00</li>
    <li>下午 13:30~17:00</li>
    <li>時間規劃： 6.5 hr</li>
  </ul></li>
  <li>地點：國立臺灣大學進修推廣部 - 304教室  (台北市羅斯福路四段107號，此地點位於羅斯福路上靠近基隆路口)</li>
</ul>
前文 [<a href="http://blog.linux.org.tw/~jserv/archives/002087.html">解析 CuRT 與嵌入式系統設計</a>] 與 [<a href="http://blog.linux.org.tw/~jserv/archives/002082.html">CuRT - 精簡易懂的 RTOS</a>] 曾提及舉辦免費 ARM 系統設計的想法，探討如何從零到有設計完整的作業系統、如何進行必要的系統初始化、如何動手理解 ARM 的種種關鍵設計。而從軟體設計師的角度，若能適時點出架構的特性，相信是個不錯的切入點，系統程式設計該是多麼有意思呢？關於本議程的討論與意見提交，請多利用 Study-Area 的論壇 [<a href="http://phorum.study-area.org/index.php/topic,57170.msg291683.html">2009 七月份的 SA@Taipei - 探索嵌入式 ARM 平台與 SoC (07/18) </a>]，期待您的指教，謝謝！<br />



<div class="posted">
	由 jserv 發表於 <a href="http://blog.linux.org.tw/~jserv/archives/002111.html">12:34 AM</a>
		| <a href="http://mt.debian.org.tw/mt-yijian.cgi?entry_id=2111" onclick="OpenComments(this.href); return false">迴響 (2)</a>
	
	
</div>

</div>



<h2 class="date">July 02, 2009</h2>


<div class="blogbody">
<a name="002110"></a>
<h3 class="title">COSCUP 2009 即將到來</h3>

<center><a href="http://stickeraction.com/coscup2009/go" title="開源人年會2009"><img src="http://stickeraction.com/coscup2009/sticker" alt="開源人年會2009" border="0" /></a></center><br />
一年一度的 [<a href="http://coscup.org/2009/zh_tw/">COSCUP / 開源人年會</a>] 即將於八月 15 與 16 兩日舉辦，在台灣各地社群共同舉辦之下，逐漸成長茁壯。今年大會有四個主題：<ul>
  <li>Android 和嵌入式系統</li>
  <li>雲端運算和 Web 技術</li>
  <li>開發者工具</li>
  <li>使用者桌面</li>
</ul>
據聞，因為講題投稿相當踴躍，主辦單位仍在思量，想必也如過往一般精彩可期。本次 [<a href="http://0xlab.org/">0xlab</a>] 很榮幸能成為 <a href="http://coscup.org/2009/zh_tw/sponsors">COSCUP 贊助單位</a>，並分享若干議程，涵蓋 Android 3D、Embedded 開發，與 Linux virtualization 等等。期待您的蒞臨指教，謝謝！<br />
<center><img src="http://coscup.org/2009/zh_tw/wp-content/uploads/2009/06/0xlab-logo.png" width="160" height="80" /></center><br />



<div class="posted">
	由 jserv 發表於 <a href="http://blog.linux.org.tw/~jserv/archives/002110.html">10:44 AM</a>
		| <a href="http://mt.debian.org.tw/mt-yijian.cgi?entry_id=2110" onclick="OpenComments(this.href); return false">迴響 (0)</a>
	
	
</div>

</div>


</div>
</div>

<!-- Site Meter -->
<script type="text/javascript" src="http://s23.sitemeter.com/js/counter.js?site=s23jserv">
</script>
<noscript>
<a href="http://s23.sitemeter.com/stats.asp?site=s23jserv" target="_top">
<img src="http://s23.sitemeter.com/meter.asp?site=s23jserv" alt="Site Meter" border="0"/></a>
</noscript>

</body>
</html>
