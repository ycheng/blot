<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Chapter 1. Overview</title>
    <link rel="stylesheet" type="text/css" href="debian.css"/>
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="home" href="index.en.html" title="Guide for Debian Maintainers"/>
    <link rel="up" href="index.en.html" title="Guide for Debian Maintainers"/>
    <link rel="prev" href="pr01.en.html" title="Preface"/>
    <link rel="next" href="ch02.en.html" title="Chapter 2. Prerequisites"/>
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 1. Overview</th>
        </tr>
        <tr>
          <td align="left"><a accesskey="p" href="pr01.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <th width="60%" align="center"> </th>
          <td align="right"> <a accesskey="n" href="ch02.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
      </table>
      <hr/>
    </div>
    <div class="chapter">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="overview"/>Chapter 1. Overview</h1>
          </div>
        </div>
      </div>
      <p>The Debian packaging of the <span class="emphasis"><em>package-1.0</em></span><span class="strong"><strong>.tar.gz</strong></span>, containing a simple C source following the <a class="ulink" href="https://www.gnu.org/prep/standards/">GNU Coding Standards</a> and <a class="ulink" href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">FHS</a>, can be done with the <span class="strong"><strong>debmake</strong></span> command as follows.</p>
      <pre class="screen"> $ tar -xvzf package-1.0.tar.gz
 $ cd package-1.0
 $ debmake
   ... Make manual adjustments of generated configuration files
 $ debuild</pre>
      <p>If manual adjustments of generated configuration files are skipped, the generated binary package lacks meaningful package description but still functions well under the <span class="strong"><strong>dpkg</strong></span> command to be used for your local deployment.</p>
      <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Caution">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Caution]" src="images/caution.png"/>
            </td>
            <th align="left">Caution</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>The <span class="strong"><strong>debmake</strong></span> command only provides good template files. These template files must be manually adjusted to their perfection to comply with the strict quality requirements of the Debian archive, if the generated package is intended for general consumption.</p>
            </td>
          </tr>
        </table>
      </div>
      <p>If you are new to Debian packaging, do not worry about the details and just get the big picture instead.</p>
      <p>If you have been exposed to Debian packaging, this looks very much like the <span class="strong"><strong>dh_make</strong></span> command.  This is because the <span class="strong"><strong>debmake</strong></span> command is intended to replace functions offered historically by the <span class="strong"><strong>dh_make</strong></span> command. <a href="#ftn.idm142" class="footnote" id="idm142"><sup class="footnote">[3]</sup></a></p>
      <p>The <span class="strong"><strong>debmake</strong></span> command is designed with the following features:</p>
      <div class="itemizedlist">
        <ul class="itemizedlist">
          <li class="listitem">
            <p class="simpara">
modern packaging style
</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
<span class="strong"><strong>debian/copyright</strong></span>: <span class="strong"><strong>DEP-5</strong></span> compliant
</li>
                <li class="listitem">
<span class="strong"><strong>debian/control</strong></span>: <span class="strong"><strong>substvar</strong></span> support, <span class="strong"><strong>multiarch</strong></span> support, multi binary packages, …
</li>
                <li class="listitem">
<span class="strong"><strong>debian/rules</strong></span>: <span class="strong"><strong>dh</strong></span> syntax, compiler hardening options, …
</li>
              </ul>
            </div>
          </li>
          <li class="listitem">
            <p class="simpara">
flexibility
</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
many options (<a class="xref" href="ch05.en.html#boption" title="5.5.1.1. debmake -b">Section 5.5.1.1, “debmake -b”</a>, <a class="xref" href="ch06.en.html" title="Chapter 6. debmake options">Chapter 6, <em>debmake options</em></a>, <a class="xref" href="apa.en.html" title="Appendix A. debmake(1) manpage">Appendix A, <em><span class="strong"><strong>debmake</strong></span>(1) manpage</em></a>)
</li>
              </ul>
            </div>
          </li>
          <li class="listitem">
            <p class="simpara">
sane default actions
</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
execute non-stop with clean results
</li>
                <li class="listitem">
generate the multiarch package, unless the <span class="strong"><strong>-m</strong></span> option is explicitly specified.
</li>
                <li class="listitem">
generate the non-native Debian package with the “<span class="strong"><strong>3.0 (quilt)</strong></span>” format, unless the <span class="strong"><strong>-n</strong></span> option is explicitly specified.
</li>
              </ul>
            </div>
          </li>
          <li class="listitem">
            <p class="simpara">
extra utility
</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
verification of the <span class="strong"><strong>debian/copyright</strong></span> file against the current source (<a class="xref" href="ch06.en.html#koption" title="6.4. debmake -k">Section 6.4, “debmake -k”</a>)
</li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
      <p>The <span class="strong"><strong>debmake</strong></span> command delegates most of the heavy lifting to its back-end packages: <span class="strong"><strong>debhelper</strong></span>, <span class="strong"><strong>dpkg-dev</strong></span>, <span class="strong"><strong>devscripts</strong></span>, <span class="strong"><strong>pbuilder</strong></span>, etc.</p>
      <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Tip">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Tip]" src="images/tip.png"/>
            </td>
            <th align="left">Tip</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Make sure to protect the arguments of the <span class="strong"><strong>-b</strong></span>, <span class="strong"><strong>-f</strong></span>, <span class="strong"><strong>-l</strong></span>, and <span class="strong"><strong>-w</strong></span> options from shell interference by quoting them properly.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Tip">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Tip]" src="images/tip.png"/>
            </td>
            <th align="left">Tip</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>The non-native Debian package is the normal Debian package.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Tip">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Tip]" src="images/tip.png"/>
            </td>
            <th align="left">Tip</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>The detailed log of all the package build examples in this document can be obtained by following the instructions in <a class="xref" href="ch08.en.html#details" title="8.14. Details">Section 8.14, “Details”</a>.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Note]" src="images/note.png"/>
            </td>
            <th align="left">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>The generation of the <span class="strong"><strong>debian/copyright</strong></span> file, and the outputs from the <span class="strong"><strong>-c</strong></span> (<a class="xref" href="ch06.en.html#coption" title="6.3. debmake -cc">Section 6.3, “debmake -cc”</a>) and <span class="strong"><strong>-k</strong></span> (<a class="xref" href="ch06.en.html#koption" title="6.4. debmake -k">Section 6.4, “debmake -k”</a>) options involve heuristic operations on the copyright and license information.  They may produce some erroneous results.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="footnotes">
        <br/>
        <hr/>
        <div id="ftn.idm142" class="footnote">
          <p><a href="#idm142" class="simpara"><sup class="simpara">[3] </sup></a>The <span class="strong"><strong>deb-make</strong></span> command was popular before the <span class="strong"><strong>dh_make</strong></span> command.  The current <span class="strong"><strong>debmake</strong></span> package starts its version from <span class="strong"><strong>4.0</strong></span> to avoid version overlaps with the obsolete <span class="strong"><strong>debmake</strong></span> package, which provided the <span class="strong"><strong>deb-make</strong></span> command.</p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr/>
      <table width="100%" summary="Navigation footer">
        <tr>
          <td align="left"><a accesskey="p" href="pr01.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <td align="center"> </td>
          <td align="right"> <a accesskey="n" href="ch02.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
        <tr>
          <td align="left" valign="top">Preface </td>
          <td align="center">
            <a accesskey="h" href="index.en.html">
              <img src="images/home.png" alt="Home"/>
            </a>
          </td>
          <td align="right" valign="top"> Chapter 2. Prerequisites</td>
        </tr>
      </table>
    </div>
  </body>
</html>
